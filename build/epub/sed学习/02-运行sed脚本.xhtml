<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>02 运行sed脚本</title>
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> 
  </head>
  <body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="sed">
<h1>02 运行sed脚本</h1>
<div class="section" id="id1">
<h2>2.1 预览</h2>
<p>正常情况下。sed是这样使用的。</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sed SCRIPT INPUTFILE...
</pre></div>
</div>
<p>样例1-替换</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#替换hello文本为world文本</span>
sed <span class="s1">&#39;s/hello/world/&#39;</span> input.txt &gt; output.txt
</pre></div>
</div>
<p>样例2-修改文件</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#替换hello文本为world文本,这个会直接修改output.txt的文件的。</span>
sed -i <span class="s1">&#39;s/hello/world/&#39;</span> input.txt &gt; output.txt
</pre></div>
</div>
<p>样例2-处理指定的行</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#只打印第45行</span>
sed -n <span class="s1">&#39;45p&#39;</span> input.txt &gt; output.txt
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>2.2 命令行选项</h2>
<p>全格式的sed命令格式是这样的：</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sed OPTION... <span class="o">[</span>SCRIPT<span class="o">]</span> <span class="o">[</span>INPUTFILE...<span class="o">]</span>
</pre></div>
</div>
<p>命令行参数如下</p>
<dl class="option-list">
<dt><kbd><span class="option">--version</span></kbd></dt>
<dd><p>版本信息</p>
</dd>
<dt><kbd><span class="option">--help</span></kbd></dt>
<dd><p>帮助信息</p>
</dd>
<dt><kbd><span class="option">-n</span></kbd></dt>
<dd><p>禁用自动打印</p>
</dd>
<dt><kbd><span class="option">--quiet</span></kbd></dt>
<dd><p>禁用自动打印</p>
</dd>
<dt><kbd><span class="option">--silent</span></kbd></dt>
<dd><p>禁用自动打印</p>
</dd>
<dt><kbd><span class="option">-e</span></kbd></dt>
<dd><p>添加命令</p>
</dd>
<dt><kbd><span class="option">--exoression</span></kbd></dt>
<dd><p>添加命令</p>
</dd>
<dt><kbd><span class="option">-f</span></kbd></dt>
<dd><p>命令指定在文件里面</p>
</dd>
<dt><kbd><span class="option">--file</span></kbd></dt>
<dd><p>命令指定在文件里面</p>
</dd>
<dt><kbd><span class="option">-i</span></kbd></dt>
<dd><p>替换文件</p>
</dd>
<dt><kbd><span class="option">--in-place</span></kbd></dt>
<dd><p>替换文件</p>
</dd>
<dt><kbd><span class="option">--posix</span></kbd></dt>
<dd><p>posix sed</p>
</dd>
<dt><kbd><span class="option">-b</span></kbd></dt>
<dd><p>二进制处理</p>
</dd>
<dt><kbd><span class="option">--binary</span></kbd></dt>
<dd><p>二进制处理</p>
</dd>
<dt><kbd><span class="option">--follow-symlinks</span></kbd></dt>
<dd><p>追踪符号链接文件</p>
</dd>
<dt><kbd><span class="option">-E</span></kbd></dt>
<dd><p>扩展正则</p>
</dd>
<dt><kbd><span class="option">-r</span></kbd></dt>
<dd><p>扩展正则</p>
</dd>
<dt><kbd><span class="option">--regexp-extended</span></kbd></dt>
<dd><p>扩展正则</p>
</dd>
<dt><kbd><span class="option">-s</span></kbd></dt>
<dd><p>替换</p>
</dd>
<dt><kbd><span class="option">--separate</span></kbd></dt>
<dd><p>替换</p>
</dd>
</dl>
</div>
<div class="section" id="id3">
<h2>2.3 退出码</h2>
<p>sed的退出码比较少，这里一一列举出来。</p>
<dl class="simple">
<dt>0</dt>
<dd><p>成功</p>
</dd>
<dt>1</dt>
<dd><p>无效命令</p>
</dd>
<dt>2</dt>
<dd><p>一个海阔这多个输入文件不能被打开</p>
</dd>
<dt>3</dt>
<dd><p>io错误</p>
</dd>
</dl>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>